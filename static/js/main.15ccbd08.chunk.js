(this["webpackJsonpflights-app"]=this["webpackJsonpflights-app"]||[]).push([[0],{12:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(7),a=c.n(r),s=(c(12),c(3)),j=c.n(s),l=c(4),o=c(2),d=c(0);var h=function(e){var t=e.flight,c=t.flyFrom,n=t.flyTo,i=t.cityFrom,r=t.cityTo,a=t.price,s=t.airlines,j=t.dTime,l=t.aTime,o=t.route,h=o[0].flight_no,b=o.findIndex((function(e){return e.flyTo===n}));return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:c}),Object(d.jsx)("td",{children:n}),Object(d.jsx)("td",{children:i}),Object(d.jsx)("td",{children:r}),Object(d.jsxs)("td",{children:[a," EUR"]}),Object(d.jsx)("td",{children:s}),Object(d.jsx)("td",{children:h}),Object(d.jsx)("td",{children:b}),Object(d.jsx)("td",{children:new Date(1e3*j).toLocaleTimeString()}),Object(d.jsx)("td",{children:new Date(1e3*l).toLocaleTimeString()})]})};var b=function(e){return 0===e.flights.length?Object(d.jsx)("span",{children:"No flights for this route! "}):Object(d.jsxs)("table",{className:"table_flights ",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Fly From"}),Object(d.jsx)("th",{children:"Fly To"}),Object(d.jsx)("th",{children:"City From"}),Object(d.jsx)("th",{children:"City To"}),Object(d.jsx)("th",{children:"Price"}),Object(d.jsx)("th",{children:"Airlines"}),Object(d.jsx)("th",{children:"Flight No."}),Object(d.jsx)("th",{children:"Stopover"}),Object(d.jsx)("th",{children:"Departure"}),Object(d.jsx)("th",{children:"Arrival"})]})}),Object(d.jsx)("tbody",{children:e.flights.map((function(e,t){return Object(d.jsx)(h,{flight:e},t)}))})]})};var O=function(e){return Object(d.jsx)("div",{className:"directFlight-selection",children:Object(d.jsxs)("div",{className:"directFlight-filter",children:[Object(d.jsx)("label",{htmlFor:"directFlight",children:" Direct Flight "}),Object(d.jsx)("input",{type:"checkbox",name:"directFlight",checked:e.checked,onChange:function(t){e.setDirect(t.target.checked)}})]})})},u=c(6);var x=function(e){return Object(d.jsx)("div",{className:"DateFilter-selection",children:Object(d.jsxs)("div",{className:"DateFilter-filter",children:[Object(d.jsx)("label",{htmlFor:"DateFilter",children:" Date from: "}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"date",name:"date_from",min:"2021-06-25",onChange:function(t){e.setDateFrom(u.DateTime.fromISO(t.target.value).toFormat("d/M/yyyy"))}}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"DateFilter",children:" Date to: "}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"date",name:"date_to",min:"2021-06-25",onChange:function(t){e.setDateTo(u.DateTime.fromISO(t.target.value).toFormat("d/M/yyyy"))}})]})})};var m=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),i=c[0],r=c[1],a=Object(n.useState)(""),s=Object(o.a)(a,2),j=s[0],l=s[1],h=Object(n.useState)(!1),b=Object(o.a)(h,2),u=b[0],m=b[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),g=f[0],v=f[1],y=Object(n.useState)(""),F=Object(o.a)(y,2),S=F[0],D=F[1];return Object(d.jsxs)("div",{className:"cities-selection",children:[Object(d.jsx)("h1",{children:"With Dropdown"}),Object(d.jsxs)("div",{className:"origin-filter",children:[Object(d.jsx)("h3",{children:"Origin "}),Object(d.jsxs)("select",{name:"filter_from",id:"",onChange:function(e){r(e.target.value)},children:[Object(d.jsx)("option",{selected:"true",disabled:"disabled",children:" -- Select an origin city -- "}),Object(d.jsx)("option",{value:"prg",children:"Prague"}),Object(d.jsx)("option",{value:"ber",children:"Berlin"}),Object(d.jsx)("option",{value:"waw",children:"Warsaw"}),Object(d.jsx)("option",{value:"ped",children:"Pardubice"})]})]}),Object(d.jsxs)("div",{className:"destination-filter",children:[Object(d.jsx)("h3",{children:"Destination"}),Object(d.jsxs)("select",{name:"filter_to",id:"",onChange:function(e){l(e.target.value)},children:[Object(d.jsx)("option",{selected:"true",disabled:"disabled",children:" -- Select a destination city -- "}),Object(d.jsx)("option",{value:"vlc",children:"Valencia"}),Object(d.jsx)("option",{value:"bcn",children:"Barcelona"}),Object(d.jsx)("option",{value:"mad",children:"Madrid"}),Object(d.jsx)("option",{value:"mxp",children:"Milano"}),Object(d.jsx)("option",{value:"ath",children:"Athens"})]})]}),Object(d.jsx)(x,{setDateFrom:v,setDateTo:D}),Object(d.jsx)(O,{setDirect:m,direct:u}),Object(d.jsx)("button",{onClick:function(){e.search({from:i,to:j,direct:u,dateFrom:g,dateTo:S})},children:"Find"})]})};var p=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),i=(c[0],c[1],Object(n.useState)(!1)),r=Object(o.a)(i,2),a=(r[0],r[1]);function s(){return(s=Object(l.a)(j.a.mark((function t(c){var n,i,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!1),console.log(c),(n=new URL("https://api.skypicker.com/locations")).search=new URLSearchParams({term:c,locale:"en-US",location_types:"airport",limit:10,active_only:!0,sort:"name"}).toString(),t.next=6,fetch(n.toJSON());case 6:return i=t.sent,t.next=9,i.json();case 9:(r=t.sent).locations.length>0&&(console.log(r.locations[0].code),e.onChange(r.locations[0].code)),a(!0);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(d.jsx)("input",{type:"text",name:"city",onChange:function(e){!function(e){s.apply(this,arguments)}(e.target.value)}})};var f=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),i=c[0],r=c[1],a=Object(n.useState)(""),s=Object(o.a)(a,2),j=s[0],l=s[1],h=Object(n.useState)(!1),b=Object(o.a)(h,2),u=b[0],m=b[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],F=Object(n.useState)(""),S=Object(o.a)(F,2),D=S[0],N=S[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"cities-selection",children:[Object(d.jsx)("h1",{children:"With Location"}),Object(d.jsxs)("div",{className:"origin-filter",children:[Object(d.jsx)("h3",{children:"Origin"}),Object(d.jsx)(p,{onChange:r})]}),Object(d.jsxs)("div",{className:"destination-filter",children:[Object(d.jsx)("h3",{children:"Destination"}),Object(d.jsx)(p,{onChange:l})]}),Object(d.jsx)(x,{setDateFrom:y,setDateTo:N}),Object(d.jsx)(O,{setDirect:m,direct:u}),Object(d.jsx)("button",{onClick:function(){e.search({from:i,to:j,direct:u,dateFrom:v,dateTo:D})},children:"Find"})]})})};var g=function(e){var t=Object(n.useState)(null),c=Object(o.a)(t,2),i=c[0],r=c[1],a=Object(n.useState)(!1),s=Object(o.a)(a,2),h=s[0],O=s[1],u=Object(n.useState)(""),x=Object(o.a)(u,2);function p(e){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(j.a.mark((function e(t){var c,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!1),(c=new URL("https://api.skypicker.com/flights")).search=new URLSearchParams({v:3,locale:"en",partner:"data4youcbp202106",partner_market:"us",curr:"EUR",fly_from:t.from.toUpperCase(),fly_to:t.to.toUpperCase(),date_from:t.dateFrom,date_to:t.dateTo,max_stopovers:t.direct?0:1e3,limit:5,sort:"price",asc:1}).toString(),e.next=5,fetch(c.toJSON());case 5:return n=e.sent,e.next=8,n.json();case 8:i=e.sent,r(i.data),O(!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return x[0],x[1],Object(d.jsxs)("div",{className:"search-block",children:[Object(d.jsx)(m,{search:p}),Object(d.jsx)(f,{search:p}),h&&Object(d.jsx)(b,{flights:i})]})},v=c.p+"static/media/world.a017e3b9.svg";var y=function(){return Object(d.jsx)("main",{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Travel Finder"}),Object(d.jsx)("img",{src:v,alt:"Logo",className:"App-logo"}),Object(d.jsx)(g,{})]})})};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.15ccbd08.chunk.js.map